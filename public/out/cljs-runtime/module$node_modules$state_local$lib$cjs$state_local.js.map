{
"version":3,
"file":"module$node_modules$state_local$lib$cjs$state_local.js",
"lineCount":9,
"mappings":"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",
"sources":["node_modules/state-local/lib/cjs/state-local.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$state_local$lib$cjs$state_local\"] = function(global,require,module,exports) {\n'use strict';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction compose() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function (x) {\n    return fns.reduceRight(function (y, f) {\n      return f(y);\n    }, x);\n  };\n}\n\nfunction curry(fn) {\n  return function curried() {\n    var _this = this;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return args.length >= fn.length ? fn.apply(this, args) : function () {\n      for (var _len3 = arguments.length, nextArgs = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        nextArgs[_key3] = arguments[_key3];\n      }\n\n      return curried.apply(_this, [].concat(args, nextArgs));\n    };\n  };\n}\n\nfunction isObject(value) {\n  return {}.toString.call(value).includes('Object');\n}\n\nfunction isEmpty(obj) {\n  return !Object.keys(obj).length;\n}\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n\nfunction hasOwnProperty(object, property) {\n  return Object.prototype.hasOwnProperty.call(object, property);\n}\n\nfunction validateChanges(initial, changes) {\n  if (!isObject(changes)) errorHandler('changeType');\n  if (Object.keys(changes).some(function (field) {\n    return !hasOwnProperty(initial, field);\n  })) errorHandler('changeField');\n  return changes;\n}\n\nfunction validateSelector(selector) {\n  if (!isFunction(selector)) errorHandler('selectorType');\n}\n\nfunction validateHandler(handler) {\n  if (!(isFunction(handler) || isObject(handler))) errorHandler('handlerType');\n  if (isObject(handler) && Object.values(handler).some(function (_handler) {\n    return !isFunction(_handler);\n  })) errorHandler('handlersType');\n}\n\nfunction validateInitial(initial) {\n  if (!initial) errorHandler('initialIsRequired');\n  if (!isObject(initial)) errorHandler('initialType');\n  if (isEmpty(initial)) errorHandler('initialContent');\n}\n\nfunction throwError(errorMessages, type) {\n  throw new Error(errorMessages[type] || errorMessages[\"default\"]);\n}\n\nvar errorMessages = {\n  initialIsRequired: 'initial state is required',\n  initialType: 'initial state should be an object',\n  initialContent: 'initial state shouldn\\'t be an empty object',\n  handlerType: 'handler should be an object or a function',\n  handlersType: 'all handlers should be a functions',\n  selectorType: 'selector should be a function',\n  changeType: 'provided value of changes should be an object',\n  changeField: 'it seams you want to change a field in the state which is not specified in the \"initial\" state',\n  \"default\": 'an unknown error accured in `state-local` package'\n};\nvar errorHandler = curry(throwError)(errorMessages);\nvar validators = {\n  changes: validateChanges,\n  selector: validateSelector,\n  handler: validateHandler,\n  initial: validateInitial\n};\n\nfunction create(initial) {\n  var handler = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  validators.initial(initial);\n  validators.handler(handler);\n  var state = {\n    current: initial\n  };\n  var didUpdate = curry(didStateUpdate)(state, handler);\n  var update = curry(updateState)(state);\n  var validate = curry(validators.changes)(initial);\n  var getChanges = curry(extractChanges)(state);\n\n  function getState() {\n    var selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function (state) {\n      return state;\n    };\n    validators.selector(selector);\n    return selector(state.current);\n  }\n\n  function setState(causedChanges) {\n    compose(didUpdate, update, validate, getChanges)(causedChanges);\n  }\n\n  return [getState, setState];\n}\n\nfunction extractChanges(state, causedChanges) {\n  return isFunction(causedChanges) ? causedChanges(state.current) : causedChanges;\n}\n\nfunction updateState(state, changes) {\n  state.current = _objectSpread2(_objectSpread2({}, state.current), changes);\n  return changes;\n}\n\nfunction didStateUpdate(state, handler, changes) {\n  isFunction(handler) ? handler(state.current) : Object.keys(changes).forEach(function (field) {\n    var _handler$field;\n\n    return (_handler$field = handler[field]) === null || _handler$field === void 0 ? void 0 : _handler$field.call(handler, state.current[field]);\n  });\n  return changes;\n}\n\nvar index = {\n  create: create\n};\n\nmodule.exports = index;\n\n};"],
"names":["shadow$provide","global","require","module","exports","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","defineProperty","value","configurable","writable","getOwnPropertyDescriptors","defineProperties","compose","_len","fns","Array","_key","x","reduceRight","y","f","curry","fn","curried","_this","_len2","args","_key2","_len3","nextArgs","_key3","concat","isObject","toString","call","includes","isFunction","extractChanges","state","causedChanges","current","updateState","changes","didStateUpdate","handler","field","_handler$field","errorHandler","throwError","errorMessages","type","Error","initialIsRequired","initialType","initialContent","handlerType","handlersType","selectorType","changeType","changeField","validators","validateChanges","initial","some","prototype","hasOwnProperty","selector","validateSelector","validateHandler","values","_handler","validateInitial","index","create","undefined","didUpdate","update","validate","getChanges","getState","setState"]
}
