{"version":3,"sources":["suitkin/components/sidebar/view.cljc"],"mappings":"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","names":["suitkin.components.sidebar.view/details-constructor","element","item","event","cljs.core._EQ_","suitkin.components.sidebar.model/on-open-menu","suitkin.components.sidebar.model/on-close-menu","or__5045__auto__","suitkin.components.sidebar.model/open-before?","suitkin.components.sidebar.view/menu-item","cljs.core.merge","suitkin.components.sidebar.styles/menu-item","cljs.core.dissoc","suitkin.utils/public-src","suitkin.components.sidebar.view/menu-items","node","suitkin.components.sidebar.styles/content-items","iter__5523__auto__","s__47163","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5521__auto__","size__5522__auto__","cljs.core/count","b__47165","cljs.core/chunk-buffer","i__47164","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__47162","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","suitkin.components.sidebar.styles/content-item","cljs.core/hash","p1__47156#","suitkin.components.sidebar.styles/divider","suitkin.components.sidebar.view/component","properties","suitkin.components.sidebar.styles/root","suitkin.components.sidebar.styles/header","suitkin.components.sidebar.styles/content","suitkin.components.sidebar.styles/submenu","cljs.core/chunk-first"],"sourcesContent":["(ns suitkin.components.sidebar.view\n  (:require\n   [suitkin.components.sidebar.model  :as m]\n   [suitkin.components.sidebar.styles :as s]\n   [stylo.core :refer [c]]\n   [suitkin.utils                     :as u]))\n\n(defn details-constructor\n  [element item]\n  (when element\n    #?(:cljs\n       (do\n         (set! (.-ontoggle ^js/Object element)\n               (fn [^js/Object event]\n                 (if (= \"open\" (.-newState event))\n                   (m/on-open-menu item)\n                   (m/on-close-menu item))))\n         (when (or (:open item) (m/open-before? item))\n           (set! (.-open element) true))))))\n\n(defn menu-item\n  [item]\n  [:a (merge {:class [s/menu-item\n                      (when (:active item) \"item-active\")\n                      (when-not (:title item)\n                        (c :flex :justify-center))\n                      (:class item)]}\n             (dissoc item :items :img :open :active :title :class))\n   (when (:img item)\n     [:img {:src (u/public-src (:img item)) :width \"18\"}])\n   (when (:active item)\n     [:data {:hidden true :data-key :active} (:active item)])\n   (when (:title item)\n     [:span {:data-key :label :class (c :w-full :truncate {:color \"var(--basic-gray-7)\"})} (:title item)])\n   (when (:items item)\n     [:img.chevron {:src (u/public-src \"/suitkin/img/icon/ic-chevron-right-16.svg\")}])])\n\n(defn menu-items\n  [node]\n  [:ul {:class s/content-items :data-array :items}\n   (for [item (:items node)]\n     [:li {:class s/content-item :key (or (:id item) (:title item) (hash item))}\n      (cond\n        (:items item)\n        [:details {:ref #(details-constructor % item)}\n         [:summary\n          (when (or (:open item) (m/open-before? item))\n            [:data {:hidden true :data-key :open} (:open item)])\n          [menu-item item]]\n         [:div.content [menu-items item]]]\n        (:divider item)\n        [:hr {:class s/divider}]\n        (:space item)\n        [:hr {:class (c [:pb \"4px\"])}]\n        :else [menu-item item])])])\n\n(defn component\n  [properties]\n  [:aside {:data-object ::component :class [s/root (:class properties)]}\n   [:div {:class [s/header (:class-header properties)]}  (:logo properties)]\n   [:div {:data-object :menu :class s/content} [menu-items (:menu properties)]]\n   (when (:submenu properties)\n     [:div {:class s/submenu :data-object :submenu} [menu-items (:submenu properties)]])])\n"]}